set term png size 640,480 # background rgb "black"

set output "Test01.png"

set autoscale                          # scale axes automatically
unset log                              # remove any log-scaling
unset label                            # remove any previous labels
unset object                           # remove any previous objects
set xtic auto                          # set xtics automatically
set ytic auto                          # set ytics automatically

##
##  define line styles
##

set style line 1 lc rgb "red" lw 2 pt 1
set style line 2 lc rgb "blue" lw 2 pt 1
set style line 3 lc rgb "#22ff44" lw 2 pt 1
set style line 4 lc rgb "magenta" lw 2 pt 1
set style line 5 lc rgb "plum" lw 2 pt 1
set style line 6 lc rgb "orange" lw 2 pt 1
set style line 7 lc rgb "purple" lw 2 pt 1
set style line 8 lc rgb "brown" lw 2 pt 1

set key off

# set key on outside
# set key title 'dougee'

# LABEL = "Label in a box"
# set obj 30 rect at screen .8,.25 size char strlen(LABEL), char 1
# set obj 30 fillstyle empty border -1 front
# set label 30 at screen .8,.25 LABEL front center

# set object 1 rect from screen 0.5,0.3 to screen 0.9,0.6 front
# set object 1 rect fc rgb "blue" fillstyle solid 1.0 lw 2



# set label "20131231" at screen 0.78,0.9 front textcolor rgb "red" font "Comic Sans MS,18"
# set label "20140101" at screen 0.78,0.84 front textcolor rgb "blue" font "Arial Bold,18"
# set label "20140102" at screen 0.78,0.78 front textcolor rgb "#22ff44" font "BigCaslon,20"
# set label "20140103" at screen 0.78,0.72 front textcolor rgb "magenta" font "Georgia Bold,18"

set label "20131231" at screen 0.78,0.90 front font "Comic Sans MS,18" textcolor linestyle 1
set label "20140101" at screen 0.78,0.84 front font "Arial Bold,18" textcolor linestyle 2
set label "20140102" at screen 0.78,0.78 front font "BigCaslon,20" textcolor linestyle 3
set label "20140103" at screen 0.78,0.72 front font "Georgia Bold,18" textcolor linestyle 4



##
##  start plots here
##

set multiplot title 'Free Memory' 
set xtics format ""

set origin 0.01,0.01 ; set size 0.75,0.96
set xrange [0:480]
set yrange [5.0e+06:4.0e+07]
plot "free-20131231.dat" title '20131231-XXG' with linespoints linestyle 1

set origin 0.01,0.01 ; set size 0.75,0.96
set xrange [0:360]
set yrange [5.0e+06:4.0e+07]
plot "free-20140101.dat" title '20140101-XXG' with linespoints linestyle 2


set origin 0.01,0.01 ; set size 0.75,0.96
set xrange [0:300]
set yrange [5.0e+06:4.0e+07]
plot "free-20140102.dat" title '20140102-XXG' with linespoints linestyle 3

set origin 0.01,0.01 ; set size 0.75,0.96
set xrange [0:300]
set yrange [5.0e+06:4.0e+07]
plot "free-20140103.dat" title '20140103-XXG' with linespoints linestyle 4

set origin 0.01,0.01 ; set size 0.75,0.96
set xrange [0:300]
set yrange [5.0e+06:4.0e+07]
plot "free-20140104.dat" title '20140104-XXG' with linespoints linestyle 5

set origin 0.01,0.01 ; set size 0.75,0.96
set xrange [0:360]
set yrange [5.0e+06:4.0e+07]
plot "free-20140105.dat" title '20140105-XXG' with linespoints linestyle 6

set origin 0.01,0.01 ; set size 0.75,0.96
set xrange [0:480]
set yrange [5.0e+06:4.0e+07]
plot "free-20140106.dat" title '20140106-XXG' with linespoints linestyle 7

set origin 0.01,0.01 ; set size 0.75,0.96
set xrange [0:360]
set yrange [5.0e+06:4.0e+07]
plot "free-20140107.dat" title '20140107-XXG' with linespoints linestyle 8


show label
show object



# print GPVAL_COMPILE_OPTIONS

if (( GPVAL_VERSION == 4.6) && (!strstrt(GPVAL_COMPILE_OPTIONS,"+OBJECTS"))) \
    print ">>> Skipping demo <<<\n" ; \
    print "This copy of gnuplot was built without support for placing rectangles\n" ; \
    exit ;



# show plot
# show size
# show palette colornames


##
##  data generated by SQL that looks like this
##

# NewQuery fsr "select free from vmstat where serverid = 29 and vmtype = 'S' and esttime between 1389074400 and 1389079800 order by esttime" > free-20140107.dat
